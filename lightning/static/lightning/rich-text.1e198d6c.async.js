(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[30],{NKAz:function(t,e,a){"use strict";a.r(e),function(t){var r=a("0Owb"),n=a("9og8"),o=a("fWQN"),i=a("mtLc"),c=a("yKVA"),s=a("879j"),u=a("WmNS"),l=a.n(u),d=a("q1tI"),p=a.n(d),v=a("yEr3"),h=a.n(v),f=(a("Lzxq"),a("mmaM")),m=a("AAgL"),b=(a("L/94"),function(e){Object(c["a"])(u,e);var a=Object(s["a"])(u);function u(){var e;Object(o["a"])(this,u);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return e=a.call.apply(a,[this].concat(i)),e.state={editorState:h.a.createEditorState(null)},e.onChange=t.debounce((function(t){var a=e.props,r=a.onChange,n=a.value,o=e.state.editorState;if(o){var i=t.toHTML();void 0===n&&"<p></p>"===i||e.setState({editorState:t},(function(){return r(i)}))}}),200),e.upload=function(){var t=Object(n["a"])(l.a.mark((function t(e){var a,r,n,o,i;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.file,r=e.success,n=e.error,t.next=3,Object(f["uploadServer"])(a);case 3:o=t.sent,i=o.url,r({url:i,meta:{id:i,title:a.name,alt:a.name,loop:!1,autoPlay:!1,controls:!1}}),n({msg:"\u4e0a\u4f20\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u4e0a\u4f20"});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(i["a"])(u,[{key:"componentWillReceiveProps",value:function(t){var e=t.value,a=this.state.editorState,r=a&&a.toHTML();e!==r&&this.setState({editorState:h.a.createEditorState(e)})}},{key:"render",value:function(){var t=this.props,e=t.LONGTEXT,a=t.value;if(e)return p.a.createElement(h.a,{value:h.a.createEditorState(a),style:{resize:"none",border:"1px solid #d9d9d9",borderRadius:4},readOnly:!0,controls:[]});var n=this.state.editorState;return p.a.createElement(h.a,Object(r["a"])({onChange:this.onChange,value:n,media:{uploadFn:this.upload},className:"ant-input"},this.widgetProps))}}]),u}(m["a"]));e["default"]=b}.call(this,a("LvDl"))}}]);